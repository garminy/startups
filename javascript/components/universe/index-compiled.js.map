{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["//材质\nfunction getMat(color) {\n}\n\nvar Colors = {\n    red: 0xf85051,\n    orange: 0xea8962,\n    yellow: 0xdacf75,\n    beige: 0xccc58f,\n    grey: 0xbab7a1,\n    blue: 0x4379a8,\n    ocean: 0x4993a8,\n    green: 0x24a99b\n};\n\nvar colorsLength = Object.keys(Colors).length;   //ES6 [\"red\", \"orange\", \"yellow\", \"beige\", \"grey\", \"blue\", \"ocean\", \"green\"]\n\n//生成范围内随机整数\nfunction randomRange(min, max) {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\n//随机选取数值\nfunction getRandomColor() {\n    var colIndex = Math.floor(Math.random() * colorsLength);\n    var colorStr = Object.keys(Colors)[colIndex];\n    return Colors[colorStr];\n}\n\n//\nfunction shiftPosition(pos, radius) {\n    if (Math.abs(pos) >= radius) {\n        return pos;\n    }\n    return (pos >= 0) ? (pos + radius) : (pos - radius);\n}\n\n/**\n * default params\n * @type {{minRadius: number, maxRadius: number, minSpeed: number, maxSpeed: number, particles: number, minSize: number, maxSize: number}}\n *\n * threejs need scene, renderer, camera, light, mesh\n */\nvar parameters = {\n    minRadius: 30,\n    maxRadius: 50,\n    minSpeed: .015,\n    maxSpeed: .025,\n    particles: 500,\n    minSize: .1,\n    maxSize: 2\n};\nvar scene, renderer, camera, light;\nvar stars = [];\nvar nbPlanetsMax = 4;\nvar planets = [];\nvar WIDTH = window.innerWidth;\nvar HEIGHT = window.innerHeight;\n\nfunction initWorld() {\n    scene = new THREE.Scene();\n    camera = new THREE.Camera(75, WIDTH / HEIGHT, .1, 2000);\n    camera.position.z = 100;\n\n    //renderer\n    renderer = new THREE.WebGLRenderer({\n        alpha: true,\n        antialias: true\n    });\n    renderer.setSize(WIDTH, HEIGHT);\n    renderer.shadowMap.enabled = true;\n    document.getElementById('universe').appendChild(renderer.domElement);\n\n    //Light\n    ambientLight = new THREE.AmbientLight(0x663344, 2);\n    scene.add(ambientLight);\n\n    light = new THREE.DirectionalLight(0xffffff, 1.5);\n    light.position.set(200, 100, 200);\n    light.castShadow = true;\n    light.shadow.camera.left = -400;\n    light.shadow.camera.right = 400;\n    light.shadow.camera.top = 400;\n    light.shadow.camera.bottom = -400;\n    light.shadow.camera.near = 1;\n    light.shadow.camera.far = 1000;\n    light.shadow.mapSize.width = 2048;\n    light.shadow.mapSize.height = 2048;\n\n    scene.add(light);\n\n    window.addEventListener('resize', handleWindowResize, false);\n    for (var i = 0; i < nbPlanetsMax; i++) {\n        planets.push(new Planet(-2000 / nbPlanetsMax * i - 500));\n    }\n    addStarts();\n    loop();\n}\n\nfunction animateStars(z) {\n    for (var i = 0; i < stars.length; i++) {\n        star = stars[i];\n        if (star.position.z > z) {\n            star.position.z -= 2000;\n        }\n    }\n}\n\nfunction addStarts() {\n\n}\n\nvar Planet = function (z) {\n    var s = 1;\n    var geom;\n    var random = Math.random();\n\n    if (random < .25) {\n        geom = new THREE.BoxGeometry(s, s, s);\n    } else if (random < .5) {\n        geom = new THREE.CylinderGeometry(0, s, s * 2, 4, 1);\n    } else if (random < .75) {\n        geom = new THREE.TetrahedronGeometry(s, 2);\n    } else {\n        geom = new THREE.BoxGeometry(s / 6, s, s);\n    }\n\n    var color = getRandomColor();\n    var mat = getMat(color);\n\n    this.mesh = new THREE.Mesh(geom, mat);\n    this.mesh.receiveShadow = true;\n    this.mesh.castShadow = true;\n    this.mesh.userData.po = this;\n};\n\nfunction handleWindowResize() {\n\n}\n\n\ninitWorld();\n\n"]}